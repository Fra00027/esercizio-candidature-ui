<div class="card w-full max-w-2xl mx-auto bg-base-100 shadow-xl">
  <div class="card-body">
    <!-- Header -->
    <div class="card-title flex justify-between items-center mb-6">
      <div class="flex items-center gap-2">
          <button class="btn btn-accent btn-sm" (click)="goBack()">
            <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 8 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 1 1.3 6.326a.91.91 0 0 0 0 1.348L7 13"/>
            </svg>
          </button>
          <h2 class="text-2xl font-bold">Create New Post</h2>
      </div>
  </div>
    
    <form [formGroup]="postForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-4">
      <!-- Title -->
      <div class="form-control w-full">
        <label class="label">
          <span class="label-text font-medium">Title *</span>
        </label>
        <input 
          type="text" 
          formControlName="title"
          placeholder="Enter post title" 
          class="input input-bordered w-full" 
          [ngClass]="{'input-error': isFieldInvalid('title')}"
        />
        
        <!-- Error messages for title -->
        <div *ngIf="isFieldInvalid('title')" class="label">
          <span class="label-text-alt text-error">
            <span *ngIf="title?.errors?.['required']">Title is required</span>
            <span *ngIf="title?.errors?.['minlength']">Title must have at least 3 characters</span>
            <span *ngIf="title?.errors?.['maxlength']">Title cannot exceed 100 characters</span>
          </span>
        </div>
      </div>
      
      <!-- Body -->
      <div class="form-control w-full">
        <label class="label">
          <span class="label-text font-medium">Content *</span>
        </label>
        <textarea 
          formControlName="body" 
          placeholder="Write your post content here..." 
          class="textarea textarea-bordered h-32 w-full" 
          [ngClass]="{'textarea-error': isFieldInvalid('body')}"
        ></textarea>
        
        <!-- Error messages for body -->
        <div *ngIf="isFieldInvalid('body')" class="label">
          <span class="label-text-alt text-error">
            <span *ngIf="body?.errors?.['required']">Content is required</span>
            <span *ngIf="body?.errors?.['minlength']">Content must have at least 10 characters</span>
          </span>
        </div>
      </div>
      
      <!-- Error message -->
      <div *ngIf="errorMessage" class="alert alert-error shadow-lg">
        <div class="flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current flex-shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <span>{{ errorMessage }}</span>
        </div>
      </div>
      
      <!-- Action buttons -->
      <div class="card-actions justify-end mt-6">
        <button type="button" class="btn btn-ghost btn-outline" (click)="resetForm()">Reset</button>
        <button type="submit" class="btn btn-primary">Save Post</button>
      </div>
    </form>
  </div>
</div>
